<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Public+Suffix+List">Public Suffix List</a>
    <li><a href="#label-Description">Description</a>
    <li><a href="#label-Features">Features</a>
    <li><a href="#label-Synopsis">Synopsis</a>
    <li><a href="#label-Requirements">Requirements</a>
    <li><a href="#label-Install">Install</a>
    <li><a href="#label-License">License</a>
  </ul>
</div>


  <div id="project-metadata">
    
<div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
    <li><a href="./README_rdoc.html">README</a>
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page README.rdoc">

<h1 id="label-Public+Suffix+List">Public Suffix List<span><a href="#label-Public+Suffix+List">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><a href="https://travis-ci.org/toddsundsted/Public-Suffix-List"><img src="https://travis-ci.org/toddsundsted/Public-Suffix-List.svg?branch=master"></a> <a href="https://toddsundsted.github.io/Public-Suffix-List/"><img src="https://img.shields.io/badge/docs-available-brightgreen.svg"></a></p>

<h2 id="label-Description">Description<span><a href="#label-Description">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The Public Suffix List (<a href="http://publicsuffix.org">publicsuffix.org</a>/) is “a cross-vendor initiative to provide an accurate list of domain name suffixes”. Such a list is necessary because “there was and remains no algorithmic method of finding the highest level at which a domain may be registered for a particular top-level domain (the policies differ with each registry)…”. Public Suffix List is also a small Ruby library designed to make the Public Suffix List (<a href="http://publicsuffix.org">publicsuffix.org</a>/) easier to use.  Public Suffix List will transparently download the latest list of top-level domains, parse the list, and optionally cache the parsed data.</p>

<p>The public API is as simple as I could make it.  Instantiating the <a href="PublicSuffixList.html"><code>PublicSuffixList</code></a> class downloads, parses, and caches the data.  There are three instance methods:</p>
<dl class="rdoc-list label-list"><dt><strong>tld</strong>(domain)
<dd>
<p>return the top-level domain name</p>
</dd><dt><strong>cdn</strong>(domain)
<dd>
<p>return the canonical domain name</p>
</dd><dt><strong>split</strong>(domain)
<dd>
<p>split the domain name into parts</p>
</dd></dl>

<h2 id="label-Features">Features<span><a href="#label-Features">&para;</a> <a href="#top">&uarr;</a></span></h2>
<ul><li>
<p>Transparent download of the TLD data file</p>
</li><li>
<p>Optional caching of optimized, parsed TLD data</p>
</li><li>
<p>Tiny API</p>
</li></ul>

<h2 id="label-Synopsis">Synopsis<span><a href="#label-Synopsis">&para;</a> <a href="#top">&uarr;</a></span></h2>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;public_suffix_list&quot;</span>

<span class="ruby-comment"># Downloads and parses the latest data file and returns &quot;com&quot;.</span>
<span class="ruby-constant">PublicSuffixList</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">tld</span>(<span class="ruby-string">&quot;foobar.com&quot;</span>)

<span class="ruby-comment"># Downloads and parses the latest data file and returns &quot;foobar.com&quot;.</span>
<span class="ruby-constant">PublicSuffixList</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">cdn</span>(<span class="ruby-string">&quot;foobar.com&quot;</span>)

<span class="ruby-comment"># Downloads and parses the latest data file, caches it in /tmp,</span>
<span class="ruby-comment"># and returns [&quot;abc&quot;, &quot;xyz&quot;, &quot;co.uk&quot;].</span>
<span class="ruby-constant">PublicSuffixList</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">cache_dir:</span> <span class="ruby-string">&quot;/tmp&quot;</span>).<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;abc.xyz.co.uk&quot;</span>)

<span class="ruby-comment"># Loads the cached data in /tmp if it is less than 100 seconds old,</span>
<span class="ruby-comment"># downloads, parses, and caches it if it is older, and returns</span>
<span class="ruby-comment"># [&quot;test&quot;, &quot;parliament&quot;, &quot;uk&quot;].</span>
<span class="ruby-constant">PublicSuffixList</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">cache_dir:</span> <span class="ruby-string">&quot;/tmp&quot;</span>, <span class="ruby-value">cache_expiry_period:</span> <span class="ruby-value">100</span>).<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;test.parliament.uk&quot;</span>)

<span class="ruby-comment"># You don&#39;t have to instantiate PublicSuffixList every time you</span>
<span class="ruby-comment"># use it, of course...</span>
<span class="ruby-identifier">p</span> = <span class="ruby-constant">PublicSuffixList</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">p</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;fee.fi.fo.com&quot;</span>) <span class="ruby-comment"># =&gt; [&quot;fee.fi&quot;, &quot;fo&quot;, &quot;com&quot;]</span>
<span class="ruby-identifier">p</span>.<span class="ruby-identifier">cdn</span>(<span class="ruby-string">&quot;fee.fi.fo.com&quot;</span>)   <span class="ruby-comment"># =&gt; &quot;fo.com&quot;, &quot;cdn&quot; is &quot;canonical domain name&quot;</span>
<span class="ruby-identifier">p</span>.<span class="ruby-identifier">tld</span>(<span class="ruby-string">&quot;fee.fi.fo.com&quot;</span>)   <span class="ruby-comment"># =&gt; &quot;com&quot;, &quot;tld&quot; is &quot;top-level domain&quot;</span>

<span class="ruby-comment"># You can even use other data files, both local and remote</span>
<span class="ruby-comment"># (as long as they conform to the Public Suffix List file format).</span>
<span class="ruby-constant">PublicSuffixList</span>.<span class="ruby-identifier">new</span>(<span class="ruby-value">url:</span> <span class="ruby-string">&quot;spec/test.dat&quot;</span>)
</pre>

<h2 id="label-Requirements">Requirements<span><a href="#label-Requirements">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>None that I am aware of.</p>

<h2 id="label-Install">Install<span><a href="#label-Install">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Install the gem directly:</p>

<pre class="ruby"><span class="ruby-identifier">gem</span> <span class="ruby-identifier">install</span> <span class="ruby-identifier">public</span><span class="ruby-operator">-</span><span class="ruby-identifier">suffix</span><span class="ruby-operator">-</span><span class="ruby-identifier">list</span>
</pre>

<p>Or add it to your Gemfile and use bundler:</p>

<pre class="ruby"><span class="ruby-identifier">gem</span> <span class="ruby-string">&#39;public-suffix-list&#39;</span>
</pre>

<h2 id="label-License">License<span><a href="#label-License">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Copyright © 2010-2019 Todd Sundsted</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the &#39;Software&#39;), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED &#39;AS IS&#39;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.3.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

